(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{75:function(e,t,a){e.exports=a(87)},80:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(80),a(136)),i=a(137),u=a(68),m=a(121),s=Object(u.a)({palette:{type:"dark",error:{main:"#ff0000"},primary:{main:m.a[500]},secondary:{main:"#11cb5f"}}}),p=a(29),E=a(70),d=a(34),f=a(7),h=function(e){if(0===e.length)return 0;var t=e.map((function(e){return e.quantity*e.price}));return Math.round(100*t.reduce((function(e,t){return e+t})))/100},y={products:!1,currentTransaction:{products:[],total:0}},b=function(e,t){switch(t.type){case"GET_PRODUCTS":return Object(f.a)(Object(f.a)({},e),{},{products:t.payload});case"ADD_TO_TRANSACTION":var a=!1,n=e.currentTransaction.products.map((function(e){return e.name===t.payload.name?(a=!0,Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity+1})):Object(f.a)({},e)}));return a?Object(f.a)(Object(f.a)({},e),{},{currentTransaction:{products:Object(d.a)(n),total:h(n)}}):Object(f.a)(Object(f.a)({},e),{},{currentTransaction:{products:[].concat(Object(d.a)(e.currentTransaction.products),[t.payload]),total:h([].concat(Object(d.a)(e.currentTransaction.products),[t.payload]))}});case"INCREMENT_ITEM":var r=e.currentTransaction.products.map((function(e){return e.name===t.payload?Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity+1}):Object(f.a)({},e)}));return Object(f.a)(Object(f.a)({},e),{},{currentTransaction:{products:Object(d.a)(r),total:h(r)}});case"DECREMENT_ITEM":var c=e.currentTransaction.products.filter((function(e){return e.name!==t.payload||1!==e.quantity})).map((function(e){return e.name===t.payload?Object(f.a)(Object(f.a)({},e),{},{quantity:e.quantity-1}):Object(f.a)({},e)}));return Object(f.a)(Object(f.a)({},e),{},{currentTransaction:{products:Object(d.a)(c),total:h(c)}});case"COMPLETE_TRANSACTION":return 0!==e.currentTransaction.products.length?(fetch("/api/transactions",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.currentTransaction)}),Object(f.a)(Object(f.a)({},e),{},{currentTransaction:{products:[],total:0}})):e;default:return e}},O=a(138),T=a(132),j=a(133),g=a(127),v=a(50),w=a(129),x=a(128),C=a(134),S=a(135),N=a(66),k=a.n(N),I=a(67),P=a.n(I),A=a(65),D=a.n(A),q=a(64),M=a.n(q),_=a(49),R=a(10),z=a(122),B=Object(z.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:190,flexShrink:0},drawerTransaction:{width:270,flexShrink:0},drawerPaper:{width:190},drawerPaperTransaction:{width:270},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}})),F=a(123),G=a(130),J=a(125),$=a(126),W=function(e){var t=e.name,a=e.price,n=e.dispatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{item:!0,xs:12,md:6,lg:4},r.a.createElement(J.a,{style:{backgroundColor:"#646464"}},r.a.createElement(v.a,{variant:"h6"},t),r.a.createElement(F.a,{container:!0,directon:"row",justify:"space-between"},r.a.createElement(v.a,{paragraph:!0},"$".concat(a)),r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:function(){return n({type:"ADD_TO_TRANSACTION",payload:{name:t,price:a,quantity:1}})}},"Add")))),r.a.createElement(F.a,{item:!0,xs:1}))},L=a(141),U=a(62),H=a.n(U),K=a(63),Q=a.n(K),V=function(e){var t=e.name,a=e.quantity,c=Object(n.useContext)(ie).dispatch;return r.a.createElement(F.a,{container:!0,direction:"row",justify:"center",alignItems:"center",space:0},r.a.createElement(F.a,{item:!0,xs:2},r.a.createElement(H.a,{fontSize:"small",color:"secondary",onClick:function(){return c({type:"INCREMENT_ITEM",payload:t})}})),r.a.createElement(F.a,{item:!0,xs:8},r.a.createElement("p",null,"".concat(t," x").concat(a))),r.a.createElement(F.a,{item:!0,xs:2},r.a.createElement(Q.a,{fontSize:"small",color:"error",onClick:function(){return c({type:"DECREMENT_ITEM",payload:t})}})))},X=function(){var e=B(),t=Object(n.useContext)(ie),a=t.state,c=t.dispatch;return r.a.createElement(O.a,{className:e.drawerTransaction,variant:"permanent",classes:{paper:e.drawerPaperTransaction},anchor:"right"},r.a.createElement(g.a,{style:{marginTop:"60px"}},a.currentTransaction.products.map((function(e){return r.a.createElement(x.a,{key:Object(L.a)()},r.a.createElement(V,{name:e.name,quantity:e.quantity}))}))),r.a.createElement(w.a,null),r.a.createElement(F.a,{container:!0,justify:"flex-end"},r.a.createElement(F.a,{item:!0,xs:9},r.a.createElement(v.a,{paragraph:!0},"Total: $".concat(a.currentTransaction.total))),r.a.createElement(F.a,{item:!0,xs:3},r.a.createElement($.a,{variant:"contained",size:"small",color:"secondary",onClick:function(){return c({type:"COMPLETE_TRANSACTION"})}},"Pay"))))},Y=function(){var e=Object(n.useContext)(ie),t=e.dispatch,a=e.state;return Object(n.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){return t({type:"GET_PRODUCTS",payload:e})}))}),[t]),r.a.createElement(F.a,{container:!0,spacing:2},a.products?a.products.map((function(e){return r.a.createElement(W,{key:e.name,name:e.name,price:e.price,dispatch:t})})):r.a.createElement(G.a,null),r.a.createElement(X,{currentTransaction:a.currentTransaction}))},Z=function(e){var t=e.products,a=e.totalProd,n=e.transactionDate;return r.a.createElement(F.a,{item:!0,xs:4},r.a.createElement(J.a,{style:{height:"200px",backgroundColor:"#646464"}},r.a.createElement("h3",null,"Transaction date: ".concat(n)),t.map((function(e){return r.a.createElement(v.a,{key:Object(L.a)(),paragraph:!0},"".concat(e.name," x").concat(e.quantity))})),r.a.createElement("p",null,"Total transaction value: $".concat(a))))},ee=function(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("/api/transactions").then((function(e){return e.json()})).then((function(e){return c(e)}))}),[]),r.a.createElement(F.a,{container:!0,direction:"row",spacing:2},a?a.map((function(e){return r.a.createElement(Z,{key:Object(L.a)(),products:e.products,totalProd:e.total,transactionDate:e.date})})):r.a.createElement(G.a,null))},te=a(131),ae=a(139),ne=a(140),re=function(){var e=Object(n.useState)({name:"",price:""}),t=Object(p.a)(e,2),a=t[0],c=t[1];return r.a.createElement(F.a,{container:!0,direction:"column",space:4,justify:"center",alignItems:"center"},r.a.createElement("h1",null,"ADD AN ITEM!"),r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement(te.a,null,r.a.createElement(ae.a,{htmlFor:"name"},"Product Name:"),r.a.createElement(ne.a,{id:"name",onChange:function(e){return c(Object(f.a)(Object(f.a)({},a),{},{name:e.target.value}))}}))),r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement(te.a,null,r.a.createElement(ae.a,{htmlFor:"price"},"Price:"),r.a.createElement(ne.a,{id:"price",onChange:function(e){return c(Object(f.a)(Object(f.a)({},a),{},{price:e.target.value}))}}))),r.a.createElement(F.a,{item:!0,xs:6},r.a.createElement($.a,{variant:"contained",color:"secondary",style:{marginTop:"10px"},onClick:function(){a.name&&a.price&&fetch("/api/products",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})}},"Add")))},ce=function(){return r.a.createElement("h1",null,"SETTTIIIINGSSS")},oe=function(){return r.a.createElement("h1",null,"NotFound")},le=function(){var e=B();return r.a.createElement(_.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(T.a,{position:"fixed",className:e.appBar},r.a.createElement(j.a,null,r.a.createElement(v.a,{variant:"h6",noWrap:!0},"POS System v1.0.0"))),r.a.createElement(O.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper}},r.a.createElement(j.a,null),r.a.createElement("div",{className:e.drawerContainer},r.a.createElement(g.a,null,["Storefront","Transactions"].map((function(e,t){return r.a.createElement(_.b,{key:e,to:"/".concat(e),style:{textDecoration:"none",color:"white"}},r.a.createElement(x.a,{button:!0},r.a.createElement(C.a,null,t%2===0?r.a.createElement(M.a,null):r.a.createElement(D.a,null)),r.a.createElement(S.a,{primary:e})))}))),r.a.createElement(w.a,null),r.a.createElement(g.a,null,["AdminPage","Settings"].map((function(e,t){return r.a.createElement(_.b,{key:e,to:"/".concat(e),style:{textDecoration:"none",color:"white"}},r.a.createElement(x.a,{button:!0},r.a.createElement(C.a,null,t%2===0?r.a.createElement(k.a,null):r.a.createElement(P.a,null)),r.a.createElement(S.a,{primary:e})))}))))),r.a.createElement("main",{className:e.content},r.a.createElement(j.a,null),r.a.createElement(R.a,{exact:!0,from:"/",to:"Storefront"}),r.a.createElement(R.b,{path:"/Storefront",component:Y}),r.a.createElement(R.b,{path:"/Transactions",component:ee}),r.a.createElement(R.b,{path:"/AdminPage",component:re}),r.a.createElement(R.b,{path:"/Settings",component:ce}),r.a.createElement(R.b,{path:"/404",component:oe}),r.a.createElement(R.a,{exact:!0,from:"*",to:"/404"}))))},ie=r.a.createContext();function ue(){var e=Object(n.useReducer)(b,y),t=Object(p.a)(e,2),a=t[0],c=t[1];return r.a.createElement(ie.Provider,{value:{state:a,dispatch:c}},r.a.createElement(E.a,{style:{height:"100vh",width:"100%"}},r.a.createElement(le,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null),r.a.createElement(i.a,{theme:s},r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[75,1,2]]]);
//# sourceMappingURL=main.f420e41e.chunk.js.map